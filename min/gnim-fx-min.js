/*
 * Gnim JS library FX v0.3
 * By Ming
 * http://www.gnim.net
 */
(function(A,y,B){var p=[];var F=y;var l=20;var j=A.toInt;var a=A.toFloat;var k=A.toHex;var z=["Left","Right","Top","Bottom"];function o(L){return L.replace(/-(\w)/g,function(M,N){return N.toUpperCase()})}function r(Q,P){var M=y;for(var O in Q){var L=o(O);if(L=="border"+P){M=Q[O];delete Q[O]}}if(M){for(var N in z){Q["border"+z[N]+P]=M}}}function G(L){r(L,"Color");r(L,"Width")}function E(L){L=o(L);return L=="color"||L=="backgroundColor"||L=="borderColor"||L=="borderLeftColor"||L=="borderRightColor"||L=="borderTopColor"||L=="borderBottomColor"}var K=/^rgb\(\s*(\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/;var e=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/;var b=/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])$/;var x={a:10,b:11,c:12,d:13,e:14,f:15};for(var J=0;J<=9;J++){x[J]=J}function H(O){O=O.toLowerCase();var L=K.exec(O);if(L){return[j(L[1]),j(L[2]),j(L[3])]}L=e.exec(O)||b.exec(O);if(L){var N=[];for(var M=1;M<=3;M++){var P=(L.length==4)?(x[L[M]]*16+x[L[M]]):(x[L[2*M-1]]*16+x[L[2*M]]);N.push(P)}return N}return""}function g(M,L,N){return M+(L-M)*(-2*N*N+N*4)/2}function n(M,L,N){return(M+(L-M)*N)}function w(M,L,N){return(M+(L-M)*(1-Math.sin(Math.PI*(0.5+N/2))))}function v(M,L,N){return(M+(L-M)*1.1*Math.sin(N*2))}function f(Q,M,P){var R;if(A.isStr(Q.s)){return Q.s}if(M=="liner"){R=n}else{if(M=="sine"){R=w}else{if(M=="inertia"){R=v}else{R=g}}}if(E(Q.n)){var O=j(R(Q.s.b[0],Q.s.e[0],P));var N=j(R(Q.s.b[1],Q.s.e[1],P));var L=j(R(Q.s.b[2],Q.s.e[2],P));return"#"+k(O*256*256+N*256+L,6)}else{if(Q.s.u=="px"){return j(R(Q.s.b,Q.s.e,P))+"px"}else{return R(Q.s.b,Q.s.e,P)+Q.s.u}}}function u(){if(p.length==0){clearInterval(F);F=y}else{var R=A.now();for(var O=0;O<p.length;O++){var M=p[O];var L=R-M.b;if(L>=M.d){M.n.css(M.s);if(M.c){M.c.apply(M.n[0])}p[O]=y;p.splice(O,1);O--}else{var Q=a(L)/M.d;var P={};for(var N=0;N<M.p.length;N++){var S=M.p[N];P[S.n]=f(S,M.t,Q)}M.n.css(P)}}}}function C(){if(F==y){F=setInterval(function(){u()},l)}}function I(M,L){if(L=="width"){return M.offsetWidth+"px"}if(L=="height"){return M.offsetHeight+"px"}if(L=="left"){return M.offsetLeft+"px"}if(L=="right"){return(M.offsetParent.clientWidth-M.offsetLeft-M.offsetWidth)+"px"}if(L=="top"){return M.offsetTop+"px"}if(L=="bottom"){return(M.offsetParent.clientHeight-M.offsetTop-M.offsetHeight)+"px"}if(window.getComputedStyle){return window.getComputedStyle(M,y)[L]}if(L=="opacity"&&A.broswer.msie){return M.style.filter&&M.style.filter.indexOf("opacity=")>=0?parseFloat(M.style.filter.match(/opacity=([^)]*)/)[1])/100:1}return M.currentStyle[o(L)]}function d(M,P,O){var Q={};if(M=="opacity"){Q.b=parseFloat(P);Q.e=parseFloat(O);Q.u="";return Q}else{if(M=="display"){if(P!="none"){return P}if(O!="none"){return O}return P}else{if(E(M)){Q.b=H(P);Q.e=H(O);Q.u="";return(Q.b&&Q.e)?Q:O}else{var N=/^(-?\d*)([a-zA-Z]*)$/;if(P){var R=P.match(N)}if(O){var L=O.match(N)}if(R&&L&&R[2]==L[2]){Q.b=parseInt(R[1]);Q.e=parseInt(L[1]);Q.u=L[2];return Q}return O}}}}function D(O,U,P,T,N,S){G(U);var M={b:A.now(),d:P,n:A(O),p:[],s:U,c:T,t:S};if(N){M.n.css(N)}for(var L in U){var R={};R.n=L;var Q=N?N[L]:y;Q=Q||I(O,L);R.s=d(L,Q,U[L]);M.p.push(R)}if(P===B){M.d=500}else{if(P==="fast"){M.d=200}else{if(P==="slow"){M.d=1000}}}p.push(M);C()}function c(L){var M=L.offsetLeft;if(L.offsetParent!=y){M+=c(L.offsetParent)}return M}function h(L){var M=L.offsetTop;if(L.offsetParent!=y){M+=h(L.offsetParent)}return M}function q(L){return L.offsetWidth}function m(L){return L.offsetHeight}var s={};s.currentStyle=function(N,M){var L=A(N);if(L.length>0){return I(L[0],M)}return y};s.anim=function(P,O,Q,R,L,N){var M=A(P);if(M.length>0){D(M[i],O,Q,R,L,N);return true}return false};s.left=c;s.top=h;s.width=q;s.height=m;var t={};t.currentStyle=function(L){if(this.length>0){return I(this[0],L)}return y};t.anim=function(O,P,Q,L,N){for(var M=0;M<this.length;M++){D(this[M],O,P,Q,L,N)}return this};t.left=function(){if(this.length>0){return c(this[0])}return y};t.top=function(){if(this.length>0){return h(this[0])}return y};t.width=function(){if(this.length>0){return q(this[0])}return y};t.height=function(){if(this.length>0){return m(this[0])}return y};A.fx=s;A.inject(A.core.prototype,t)})(Gnim,null);
