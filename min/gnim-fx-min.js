/*
 * Gnim JS library FX v0.3
 * By Ming
 * http://www.gnim.net
 */
(function(k,j,B){function p(a){return a.replace(/-(\w)/g,function(a,c){return c.toUpperCase()})}function w(a,b){var c=j,d;for(d in a)p(d)=="border"+b&&(c=a[d],delete a[d]);if(c)for(var g in x)a["border"+x[g]+b]=c}function y(a){a=p(a);return"color"==a||"backgroundColor"==a||"borderColor"==a||"borderLeftColor"==a||"borderRightColor"==a||"borderTopColor"==a||"borderBottomColor"==a}function z(a){var a=a.toLowerCase(),b=C.exec(a);if(b)return[l(b[1]),l(b[2]),l(b[3])];if(b=D.exec(a)||E.exec(a)){for(var a=
[],c=1;3>=c;c++)a.push(4==b.length?16*m[b[c]]+m[b[c]]:16*m[b[2*c-1]]+m[b[2*c]]);return a}return""}function F(a,b,c){return a+(b-a)*(-2*c*c+4*c)/2}function G(a,b,c){return a+(b-a)*c}function H(a,b,c){return a+(b-a)*(1-Math.sin(Math.PI*(0.5+c/2)))}function I(a,b,c){return a+1.1*(b-a)*Math.sin(2*c)}function J(){s==j&&(s=setInterval(function(){if(0==n.length)clearInterval(s),s=j;else for(var a=k.now(),b=0;b<n.length;b++){var c=n[b],d=a-c.b;if(d>=c.d)c.n.css(c.s),c.c&&c.c.apply(c.n[0]),n[b]=j,n.splice(b,
1),b--;else{for(var d=K(d)/c.d,g={},f=0;f<c.p.length;f++){var e=c.p[f],h=g,m=e.n;var q=c.t,r=d,o=void 0;if(k.isStr(e.s))e=e.s;else if(o="liner"==q?G:"sine"==q?H:"inertia"==q?I:F,y(e.n))var q=l(o(e.s.b[0],e.s.e[0],r)),p=l(o(e.s.b[1],e.s.e[1],r)),e=l(o(e.s.b[2],e.s.e[2],r)),e="#"+L(65536*q+256*p+e,6);else e="px"==e.s.u?l(o(e.s.b,e.s.e,r))+"px":o(e.s.b,e.s.e,r)+e.s.u;h[m]=e}c.n.css(g)}}},M))}function t(a,b){return"width"==b?a.offsetWidth+"px":"height"==b?a.offsetHeight+"px":"left"==b?a.offsetLeft+"px":
"right"==b?a.offsetParent.clientWidth-a.offsetLeft-a.offsetWidth+"px":"top"==b?a.offsetTop+"px":"bottom"==b?a.offsetParent.clientHeight-a.offsetTop-a.offsetHeight+"px":window.getComputedStyle?window.getComputedStyle(a,j)[b]:"opacity"==b&&k.broswer.msie?a.style.filter&&0<=a.style.filter.indexOf("opacity=")?parseFloat(a.style.filter.match(/opacity=([^)]*)/)[1])/100:1:a.currentStyle[p(b)]}function N(a,b,c){var d={};if("opacity"==a)return d.b=parseFloat(b),d.e=parseFloat(c),d.u="",d;if("display"==a)return"none"!=
b?b:"none"!=c?c:b;if(y(a))return d.b=z(b),d.e=z(c),d.u="",d.b&&d.e?d:c;a=/^(-?\d*)([a-zA-Z]*)$/;if(b)var g=b.match(a);if(c)var f=c.match(a);return g&&f&&g[2]==f[2]?(d.b=parseInt(g[1]),d.e=parseInt(f[1]),d.u=f[2],d):c}function A(a,b,c,d,g,f){w(b,"Color");w(b,"Width");d={b:k.now(),d:c,n:k(a),p:[],s:b,c:d,t:f};g&&d.n.css(g);for(var e in b){f={};f.n=e;var h=g?g[e]:j,h=h||t(a,e);f.s=N(e,h,b[e]);d.p.push(f)}c===B?d.d=500:"fast"===c?d.d=200:"slow"===c&&(d.d=1E3);n.push(d);J()}function u(a){var b=a.offsetLeft;
a.offsetParent!=j&&(b+=u(a.offsetParent));return b}function v(a){var b=a.offsetTop;a.offsetParent!=j&&(b+=v(a.offsetParent));return b}for(var n=[],s=j,M=20,l=k.toInt,K=k.toFloat,L=k.toHex,x=["Left","Right","Top","Bottom"],C=/^rgb\(\s*(\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,D=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/,E=/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])$/,m={a:10,b:11,c:12,d:13,e:14,f:15},h=0;9>=h;h++)m[h]=h;h={currentStyle:function(a,b){var c=k(a);return 0<c.length?t(c[0],b):
j},anim:function(a,b,c,d,g,f){a=k(a);return 0<a.length?(A(a[i],b,c,d,g,f),!0):!1}};h.left=u;h.top=v;h.width=function(a){return a.offsetWidth};h.height=function(a){return a.offsetHeight};k.fx=h;k.inject(k.core.prototype,{currentStyle:function(a){return 0<this.length?t(this[0],a):j},anim:function(a,b,c,d,g){for(var f=0;f<this.length;f++)A(this[f],a,b,c,d,g);return this},left:function(){return 0<this.length?u(this[0]):j},top:function(){return 0<this.length?v(this[0]):j},width:function(){return 0<this.length?
this[0].offsetWidth:j},height:function(){return 0<this.length?this[0].offsetHeight:j}})})(Gnim,null);
