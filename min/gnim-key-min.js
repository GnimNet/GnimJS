/*
 * Gnim JS library key event helper v0.2
 * By Ming
 * http://www.gnim.net
 */
(function(f){function n(a){return k[a]||0}function m(a,e,b){a=a.toLowerCase().split("+");var c={cb:e,ctrl:!1,alt:!1,shift:!1,meta:!1,key:null};for(e=0;e<a.length-1;e++){var h=f.trim(a[e]);if("ctrl"==h)c.ctrl=!0;else if("alt"==h)c.alt=!0;else if("shift"==h)c.shift=!0;else if("meta"==h||"win"==h||"command"==h)c.meta=!0;else return!1}c.key=n(f.trim(a[e]));if(c.key)b?f(b).keydown(function(g){c.ctrl===g.ctrlKey&&c.alt===g.altKey&&c.shift===g.shiftKey&&c.meta===g.metaKey&&(c.key===g.keyCode||13==c.key&&10==g.keyCode)&&(f.noDefault(g),c.cb.apply(b,[g]))}):l.push(c);else return!1}for(var l=[],k={left:37,up:38,right:39,down:40,"-":189,"=":187,"[":219,"]":221,"\\":220,";":186,"'":222,",":188,".":190,"/":191,"`":192,insert:45,"delete":46,home:36,end:35,pageup:33,pagedown:34,pause:19,backspace:8,tab:9,enter:13,esc:27,space:32},d=1;12>=d;d++)k["f"+d]=111+d;for(d=0;26>d;d++)k[String.fromCharCode(97+d)]=65+d;for(d=0;9>=d;d++)k[String.fromCharCode(48+d)]=48+d;f(document).keydown(function(a){for(var e=0;e<l.length;e++){var b=l[e];b.ctrl===a.ctrlKey&&b.alt===a.altKey&&b.shift===a.shiftKey&&b.meta===a.metaKey&&(b.key===a.keyCode||13==b.key&&10==a.keyCode)&&(f.noDefault(a),b.cb.apply(document,[a]))}});f.shortcut=m;f.inject(f.core.prototype,{shortcut:function(a,e){for(var b=0;b<this.length;b++)m(a,e,this[b]);return this}})})(Gnim);